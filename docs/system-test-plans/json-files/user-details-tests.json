[
  {
    "test_plan_no": "STP-020-01",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.1: User Details Page",
    "description": "Verify that the User Details page loads correctly with admin authentication for a valid user ID",
    "scenario": "Admin user navigates to a specific user's details page to view comprehensive user information and activity logs",
    "expected_results": "Display the complete User Details page with header, user information panel, and activity tabs containing login attempts and email verifications",
    "procedure": "1. Login as admin user with valid credentials\n2. Navigate to /admin/user/<valid_user_id>\n3. Verify page loads completely\n4. Check that header shows user avatar, username, and email\n5. Verify all main sections are visible (header, user info, activity tabs)",
    "test_status": "pending",
    "priority": "high",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-02",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.2: Admin Authentication Requirement",
    "description": "Verify that non-admin users cannot access the User Details page",
    "scenario": "Regular user attempts to access user details page without admin privileges",
    "expected_results": "User should be redirected to login page or receive access denied message",
    "procedure": "1. Login as regular user (non-admin)\n2. Attempt to navigate to /admin/user/<user_id>\n3. Verify access is denied\n4. Check redirect behavior\n5. Confirm proper error handling",
    "test_status": "pending",
    "priority": "critical",
    "category": "security"
  },
  {
    "test_plan_no": "STP-020-03",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.3: User Not Found Handling",
    "description": "Verify proper error handling when attempting to access non-existent user details",
    "scenario": "Admin attempts to access user details for a user ID that doesn't exist in the database",
    "expected_results": "Display 'User not found' error message and redirect to user management page",
    "procedure": "1. Login as admin user\n2. Navigate to /admin/user/99999 (non-existent user ID)\n3. Verify 'User not found' error message displays\n4. Check redirect to /admin/users\n5. Test with various invalid user ID formats",
    "test_status": "pending",
    "priority": "medium",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-04",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.4: User Information Display",
    "description": "Verify that the user information panel displays all user data correctly with proper formatting",
    "scenario": "Admin reviews user information panel to see status, registration details, and verification status",
    "expected_results": "Display user status badges (Active/Inactive, Admin), registration date, last login timestamp, and email verification status",
    "procedure": "1. Navigate to user details page\n2. Verify status badges display correct colors and text\n3. Check registration date format (Month DD, YYYY at HH:MM AM/PM)\n4. Verify last login displays correctly or shows 'Never logged in'\n5. Confirm email verification status shows checkmark or X",
    "test_status": "pending",
    "priority": "high",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-05",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.5: User Avatar Display",
    "description": "Verify that user avatar displays correctly with username initial and gradient background",
    "scenario": "Admin views user details header to check avatar generation and display",
    "expected_results": "Display circular avatar with first letter of username, gradient background (blue to purple), and consistent sizing",
    "procedure": "1. Access user details page\n2. Verify avatar displays in header with correct initial\n3. Check gradient background colors are applied\n4. Confirm avatar size is appropriate (12x12 sm, 16x16 regular)\n5. Test with usernames starting with different characters",
    "test_status": "pending",
    "priority": "low",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-06",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.6: User Status Toggle Functionality",
    "description": "Verify that admin can toggle user active/inactive status correctly",
    "scenario": "Admin uses the toggle status button to activate or deactivate user accounts",
    "expected_results": "Status toggle button changes user's active status, updates display, shows success flash message, prevents self-modification",
    "procedure": "1. Navigate to user details page for a different user\n2. Click the Activate/Deactivate User button\n3. Verify status changes and button text/color updates\n4. Check success flash message appears\n5. Confirm status badge in user info panel updates",
    "test_status": "pending",
    "priority": "critical",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-07",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.7: Admin Privilege Toggle",
    "description": "Verify that admin can grant or revoke admin privileges for other users",
    "scenario": "Admin uses the admin toggle button to grant or revoke administrative privileges",
    "expected_results": "Admin toggle button changes user's admin status, updates display, shows success flash message, prevents self-modification",
    "procedure": "1. Navigate to user details page for a regular user\n2. Click the Grant Admin/Revoke Admin button\n3. Verify admin status changes and button text/color updates\n4. Check success flash message appears\n5. Confirm admin badge appears/disappears in status section",
    "test_status": "pending",
    "priority": "critical",
    "category": "security"
  },
  {
    "test_plan_no": "STP-020-08",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.8: Self-Modification Prevention",
    "description": "Verify that admin users cannot modify their own account status or admin privileges",
    "scenario": "Admin attempts to modify their own user account to test security restrictions",
    "expected_results": "System shows warning message 'Cannot modify your own account' instead of action buttons",
    "procedure": "1. Navigate to own user details page as admin\n2. Verify action buttons are replaced with warning message\n3. Check warning message styling and icon\n4. Attempt direct POST to toggle endpoints\n5. Confirm error messages prevent self-modification",
    "test_status": "pending",
    "priority": "critical",
    "category": "security"
  },
  {
    "test_plan_no": "STP-020-09",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.9: Activity Tabs Navigation",
    "description": "Verify that activity tabs function correctly for switching between different user activity views",
    "scenario": "Admin uses tab navigation to view different types of user activity data",
    "expected_results": "Tabs switch correctly between Login Attempts and Email Verifications with proper active state styling",
    "procedure": "1. Navigate to user details page\n2. Verify Login Attempts tab is active by default\n3. Click Email Verifications tab\n4. Check tab active state changes correctly\n5. Verify content switches between tabs appropriately",
    "test_status": "pending",
    "priority": "medium",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-10",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.10: Login Attempts Display",
    "description": "Verify that login attempts tab displays user's login history with proper formatting and status indicators",
    "scenario": "Admin reviews user's login attempts to monitor account security and access patterns",
    "expected_results": "Display list of login attempts with IP address, user agent, timestamp, and success/failure indicators",
    "procedure": "1. Navigate to Login Attempts tab\n2. Verify each attempt shows IP address and timestamp\n3. Check success/failure status indicators with appropriate colors\n4. Verify user agent truncation works correctly\n5. Confirm empty state displays when no attempts exist",
    "test_status": "pending",
    "priority": "high",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-11",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.11: Email Verifications Display",
    "description": "Verify that email verifications tab displays verification history with proper status indicators",
    "scenario": "Admin reviews user's email verification history to monitor account verification status",
    "expected_results": "Display verification records with email addresses, status badges (Verified/Pending/Expired), and timestamps",
    "procedure": "1. Navigate to Email Verifications tab\n2. Verify email addresses are displayed correctly\n3. Check status badges show correct colors and text\n4. Verify 'Sent' and 'Verified' timestamps are formatted properly\n5. Confirm empty state displays when no verifications exist",
    "test_status": "pending",
    "priority": "high",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-12",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.12: Responsive Design Layout",
    "description": "Verify that the User Details page displays correctly on different screen sizes",
    "scenario": "Admin accesses the user details page on various devices and screen resolutions",
    "expected_results": "Page layout adapts appropriately with responsive grid layout, stacked elements on mobile, and proper text sizing",
    "procedure": "1. Access page on desktop (1920x1080)\n2. Resize browser window to tablet size (768px)\n3. Test on mobile viewport (375px)\n4. Verify grid layout changes from 3-column to stacked\n5. Check that all content remains accessible and readable",
    "test_status": "pending",
    "priority": "medium",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-13",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.13: Dark Mode Compatibility",
    "description": "Verify that the User Details page displays correctly in dark mode",
    "scenario": "Admin toggles dark mode and verifies all components display with appropriate dark theme styling",
    "expected_results": "All sections, cards, tabs, and status indicators display with proper dark mode colors and contrast",
    "procedure": "1. Access page in light mode\n2. Toggle to dark mode\n3. Verify background colors change to dark variants\n4. Check text contrast and readability\n5. Confirm all interactive elements maintain proper visibility",
    "test_status": "pending",
    "priority": "medium",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-14",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.14: CSRF Protection Validation",
    "description": "Verify that user modification actions are protected against CSRF attacks",
    "scenario": "Admin modifies user status and privileges to ensure CSRF tokens are properly validated",
    "expected_results": "All POST requests include CSRF tokens and are validated properly",
    "procedure": "1. Inspect toggle status form for CSRF token\n2. Inspect toggle admin form for CSRF token\n3. Attempt request without valid CSRF token\n4. Verify request is rejected without valid token\n5. Confirm successful requests include proper token validation",
    "test_status": "pending",
    "priority": "critical",
    "category": "security"
  },
  {
    "test_plan_no": "STP-020-15",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.15: Navigation Back to Users",
    "description": "Verify that the 'Back to Users' navigation button functions correctly",
    "scenario": "Admin uses the back navigation to return to the user management list",
    "expected_results": "Clicking 'Back to Users' navigates to /admin/users with proper context preservation",
    "procedure": "1. Navigate to user details from user management\n2. Click 'Back to Users' button in header\n3. Verify navigation to user management page\n4. Check that previous search/filter state is maintained\n5. Confirm button styling and hover effects work",
    "test_status": "pending",
    "priority": "medium",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-16",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.16: Date and Time Formatting",
    "description": "Verify that all date and time displays use consistent formatting throughout the user details interface",
    "scenario": "Admin reviews various date fields to ensure consistent formatting and timezone handling",
    "expected_results": "Registration dates display in long format, login attempts in short format, with proper timezone handling",
    "procedure": "1. Review registration date format (Month DD, YYYY at HH:MM AM/PM)\n2. Check login attempt timestamps (MM/DD/YYYY HH:MM)\n3. Verify email verification dates consistency\n4. Confirm 'Never logged in' displays appropriately\n5. Test with users from different time periods",
    "test_status": "pending",
    "priority": "medium",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-17",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.17: Empty State Handling",
    "description": "Verify that appropriate empty state messages display when no activity data is available",
    "scenario": "Admin views user details for users with no login attempts or email verifications",
    "expected_results": "Display appropriate empty state messages with helpful icons and descriptive text",
    "procedure": "1. View user with no login attempts\n2. Verify empty state message in Login Attempts tab\n3. View user with no email verifications\n4. Check empty state message in Email Verifications tab\n5. Confirm icons and messaging are appropriate",
    "test_status": "pending",
    "priority": "medium",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-18",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.18: Status Badge Color Coding",
    "description": "Verify that status badges use consistent color coding throughout the interface",
    "scenario": "Admin reviews status badges to ensure proper color coding and accessibility",
    "expected_results": "Consistent color scheme: green for active/success, red for inactive/failed, purple for admin, yellow for pending",
    "procedure": "1. Check user status badges (Active/Inactive)\n2. Verify admin badge color (purple)\n3. Review login attempt status colors (green/red)\n4. Check email verification status colors\n5. Confirm color contrast meets accessibility standards",
    "test_status": "pending",
    "priority": "low",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-19",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.19: Database Error Handling",
    "description": "Verify that the user details system handles database errors gracefully",
    "scenario": "Admin accesses user details when database connectivity issues occur",
    "expected_results": "Appropriate error messages display when database is unavailable, with graceful fallback behavior",
    "procedure": "1. Simulate database unavailability\n2. Access user details page\n3. Verify appropriate error message displays\n4. Check redirect to user management occurs\n5. Confirm no sensitive error information is exposed",
    "test_status": "pending",
    "priority": "high",
    "category": "integration"
  },
  {
    "test_plan_no": "STP-020-20",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.20: Animation and Transitions",
    "description": "Verify that page animations and transitions display correctly and enhance user experience",
    "scenario": "Admin observes page loading animations and interactive element transitions",
    "expected_results": "Smooth fade-in animations for page elements with appropriate timing: header, user info (left), activity tabs (right)",
    "procedure": "1. Refresh user details page to observe initial animations\n2. Verify header animates with fade-in-up\n3. Check user info panel animates with fade-in-left\n4. Confirm activity tabs animate with fade-in-right\n5. Test tab switching transitions",
    "test_status": "pending",
    "priority": "low",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-21",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.21: User Agent Display",
    "description": "Verify that user agent strings are properly truncated and displayed in login attempts",
    "scenario": "Admin reviews login attempts to see browser and device information",
    "expected_results": "User agent strings are truncated to 50 characters with ellipsis, displayed in gray text below IP address",
    "procedure": "1. Navigate to Login Attempts tab\n2. Verify user agent strings are present for attempts\n3. Check truncation to 50 characters with ellipsis\n4. Confirm styling matches design (gray, smaller text)\n5. Test with various user agent lengths",
    "test_status": "pending",
    "priority": "low",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-22",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.22: Email Verification Status Logic",
    "description": "Verify that email verification status displays correctly based on verification state and expiration",
    "scenario": "Admin reviews email verification records with different states (verified, pending, expired)",
    "expected_results": "Status displays correctly: Verified (green), Pending (yellow), Expired (red) with appropriate icons",
    "procedure": "1. View user with verified email\n2. Check verified status displays with green color and checkmark\n3. View user with pending verification\n4. Verify pending status shows yellow color and clock icon\n5. Test expired verification display with red color and X icon",
    "test_status": "pending",
    "priority": "medium",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-23",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.23: Tab Responsive Behavior",
    "description": "Verify that activity tabs display correctly on mobile devices with appropriate text handling",
    "scenario": "Admin accesses activity tabs on mobile devices to test responsive behavior",
    "expected_results": "Tabs display full text on desktop, abbreviated text on mobile (Login Attempts → Logins, Email Verifications → Email)",
    "procedure": "1. Access page on desktop and verify full tab labels\n2. Resize to mobile viewport (375px)\n3. Check tabs show abbreviated labels\n4. Verify tab functionality remains intact\n5. Test tab switching on mobile",
    "test_status": "pending",
    "priority": "medium",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-24",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.24: Action Button Styling",
    "description": "Verify that action buttons display with appropriate colors and styling based on current user state",
    "scenario": "Admin reviews action button appearance for different user states and actions",
    "expected_results": "Buttons show correct colors: red for deactivate, green for activate, orange for revoke admin, purple for grant admin",
    "procedure": "1. View active user and check deactivate button (red)\n2. View inactive user and check activate button (green)\n3. View regular user and check grant admin button (purple)\n4. View admin user and check revoke admin button (orange)\n5. Verify hover effects work correctly",
    "test_status": "pending",
    "priority": "low",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-25",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.25: Flash Message Integration",
    "description": "Verify that success and error flash messages display correctly for user modification actions",
    "scenario": "Admin performs various user modification actions and observes flash message behavior",
    "expected_results": "Appropriate success and error messages appear with correct formatting and positioning",
    "procedure": "1. Toggle user status and verify success message\n2. Toggle admin privileges and verify success message\n3. Attempt invalid operations and check error messages\n4. Verify messages display with proper styling\n5. Check message persistence and dismissal behavior",
    "test_status": "pending",
    "priority": "medium",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-26",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.26: URL Route Validation",
    "description": "Verify that user details URLs route correctly and handle invalid parameters",
    "scenario": "Admin tests various URL patterns for user details functionality",
    "expected_results": "Routes function correctly: /admin/user/<id>, toggle endpoints work with proper validation",
    "procedure": "1. Test /admin/user/<valid_id> route directly\n2. Test /admin/user/<invalid_id> route\n3. Verify POST routes for toggle actions\n4. Check URL parameter validation\n5. Test browser back/forward navigation",
    "test_status": "pending",
    "priority": "medium",
    "category": "functional"
  },
  {
    "test_plan_no": "STP-020-27",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.27: Session Management",
    "description": "Verify that admin session management works correctly when accessing user details",
    "scenario": "Admin session expires while viewing user details to test session handling",
    "expected_results": "User is redirected to login when session expires, can return to user details after re-authentication",
    "procedure": "1. Access user details with valid admin session\n2. Wait for session to expire or manually clear session\n3. Try to perform user modification actions\n4. Verify redirect to login occurs\n5. Re-authenticate and confirm return to user details",
    "test_status": "pending",
    "priority": "high",
    "category": "security"
  },
  {
    "test_plan_no": "STP-020-28",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.28: Cross-Browser Compatibility",
    "description": "Verify that user details functionality works correctly across different web browsers",
    "scenario": "Admin accesses user details using various browsers to test compatibility",
    "expected_results": "Page displays and functions correctly in Chrome, Firefox, Safari, Edge with consistent appearance and behavior",
    "procedure": "1. Test user details in Google Chrome\n2. Verify functionality in Mozilla Firefox\n3. Check compatibility with Safari browser\n4. Test in Microsoft Edge\n5. Compare appearance and functionality across browsers",
    "test_status": "pending",
    "priority": "medium",
    "category": "ui"
  },
  {
    "test_plan_no": "STP-020-29",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.29: Performance with Large Activity Data",
    "description": "Verify that user details performs efficiently when displaying users with extensive activity history",
    "scenario": "Admin accesses details for users with large numbers of login attempts and email verifications",
    "expected_results": "Page loads efficiently with activity data limited appropriately (20 login attempts, all verifications)",
    "procedure": "1. Test user details for user with 50+ login attempts\n2. Verify only recent 20 attempts are displayed\n3. Test user with multiple email verifications\n4. Check page load times remain acceptable\n5. Monitor responsiveness of tab switching",
    "test_status": "pending",
    "priority": "medium",
    "category": "performance"
  },
  {
    "test_plan_no": "STP-020-30",
    "module_name": "User Details",
    "screen_design_ref": "Figure 20.30: Accessibility Compliance",
    "description": "Verify that user details interface meets accessibility standards for screen readers and keyboard navigation",
    "scenario": "Admin uses accessibility tools to test user details compliance with WCAG guidelines",
    "expected_results": "Page is fully accessible with proper ARIA labels, keyboard navigation, screen reader compatibility, and color contrast",
    "procedure": "1. Test page with screen reader software\n2. Navigate using only keyboard (Tab, Enter, Arrow keys)\n3. Verify ARIA labels are present for tabs and buttons\n4. Check color contrast ratios meet standards\n5. Confirm all interactive elements are accessible",
    "test_status": "pending",
    "priority": "medium",
    "category": "ui"
  }
]
