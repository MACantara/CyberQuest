<!-- Restore Backup -->
<div class="bg-white dark:bg-gray-800 rounded-lg shadow">
    <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Restore from Backup</h3>
    </div>
    <div class="p-6">
        <form method="POST" action="{{ url_for('system_backup.restore_backup') }}" enctype="multipart/form-data">
            <input type="hidden" id="csrf_token" name="csrf_token" value="{{csrf_token()}}">
            
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                    Select Backup File
                </label>
                <input type="file" name="backup_file" accept=".zip" required
                       class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white cursor-pointer">
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                    Restore Type
                </label>
                <select name="restore_type" id="restore_type" 
                        onchange="updateRestoreWarning()"
                        class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white cursor-pointer">
                    <option value="merge">Merge with existing data (Recommended)</option>
                    <option value="replace">Replace all data (DANGEROUS - Deletes everything)</option>
                </select>
                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1" id="restore_description">
                    Merge mode will update existing records and add new ones without deleting current data.
                </p>
            </div>

            <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4" id="warning_box">
                <div class="flex items-start">
                    <i class="bi bi-exclamation-triangle-fill text-yellow-600 dark:text-yellow-400 text-lg mt-0.5 mr-3"></i>
                    <div>
                        <p class="text-sm text-yellow-800 dark:text-yellow-200 font-medium">CAUTION:</p>
                        <ul class="text-sm text-yellow-700 dark:text-yellow-300 mt-1 space-y-1" id="warning_list">
                            <li>• Always create a backup before restoring</li>
                            <li>• Duplicate records will be updated with backup data</li>
                            <li>• New records from backup will be added</li>
                            <li>• Existing data not in backup will be preserved</li>
                        </ul>
                    </div>
                </div>
            </div>

            <button type="submit" id="restore_submit_btn"
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer">
                <i class="bi bi-upload mr-2"></i>
                <span id="restore_btn_text">Restore from Backup (Merge Mode)</span>
            </button>
        </form>
    </div>
</div>
