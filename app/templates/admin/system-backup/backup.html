{% extends "base.html" %}

{% block title %}System Backup - Admin Panel{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-6">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        {% include 'admin/components/dynamic_breadcrumb.html' %}
        
        <!-- Header -->
        <div class="bg-white dark:bg-gray-800 shadow rounded-lg mb-6">
            <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <i class="bi bi-shield-check text-blue-600 dark:text-blue-400 text-2xl"></i>
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">System Backup & Restore</h1>
                            <p class="text-gray-600 dark:text-gray-400">Manage database backups and system recovery</p>
                        </div>
                    </div>
                    <div class="flex space-x-3">
                        <a href="{{ url_for('system_backup.backup_schedule') }}" 
                           class="inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors cursor-pointer">
                            <i class="bi bi-calendar-event mr-2"></i>
                            Schedule
                        </a>
                        <button onclick="document.getElementById('createBackupForm').submit()" 
                                class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors cursor-pointer">
                            <i class="bi bi-plus-circle mr-2"></i>
                            Create Backup
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics Cards Component -->
        {% include 'admin/system-backup/components/backup/statistics_cards.html' %}

        <!-- Backup Actions -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <!-- Create Backup Component -->
            {% include 'admin/system-backup/components/backup/create_backup_form.html' %}

            <!-- Restore Backup Component -->
            {% include 'admin/system-backup/components/backup/restore_backup_form.html' %}
        </div>

        <!-- Backup List Table Component -->
        {% include 'admin/system-backup/components/backup/backup_list_table.html' %}
    </div>
</div>

<!-- Restore Modal Component -->
{% include 'admin/system-backup/components/backup/restore_modal.html' %}

<!-- Backup Scripts Component -->
{% include 'admin/system-backup/components/backup/backup_scripts.html' %}

{% endblock %}
